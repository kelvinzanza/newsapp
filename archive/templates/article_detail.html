{% extends 'base.html' %}
{% block title %}{{ article.title }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-5xl">
    <article class="bg-white p-6 rounded-lg shadow-md">
        <h1 class="text-4xl font-bold text-gray-800 mb-2">{{ article.title }}</h1>
        <p class="text-gray-600 text-sm mb-4">
            By <span class="font-semibold">{{ article.author.username }}</span>
            on <time datetime="{{ article.published_at|date:'Y-m-d' }}">
                {{ article.published_at|date:'F d, Y' }}
            </time>
        </p>

        <div class="prose max-w-none text-gray-700 leading-relaxed mb-6">
            {{ article.content|safe }}
        </div>
        
        <!-- Action buttons for the author -->
        {% if request.user == article.author and article.status == 'submitted' %}
        <div class="flex space-x-4 mt-8">
            <a href="{% url 'edit_article' article.id %}" class="bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300">
                Edit Article
            </a>
            <form action="{% url 'delete_article' article.id %}" method="post" class="inline">
                {% csrf_token %}
                <button type="submit" class="bg-red-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-red-600 transition duration-300" onclick="return confirm('Are you sure you want to delete this article?');">
                    Delete Article
                </button>
            </form>
        </div>
        {% endif %}
    </article>
</div>
{% endblock %}